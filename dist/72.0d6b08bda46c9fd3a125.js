(self.webpackChunkapp_react=self.webpackChunkapp_react||[]).push([[72],{5004:function(e,t,n){"use strict";var r=n(6010),s=n(5697),a=n.n(s),o=n(6968),i=n(5893),l=function(e){var t=e.additionalClass,n=e.isLoading,s=e.title;return(0,i.jsxs)("button",{className:(0,r.Z)("btn btn-primary",t),disabled:n,type:"submit",children:[n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Z,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"Â "]}),s]})};l.propTypes={additionalClass:a().string.isRequired,isLoading:a().bool.isRequired,title:a().string.isRequired},t.Z=l},9139:function(e,t,n){"use strict";var r=n(6010),s=n(5697),a=n.n(s),o=n(7951),i=n(8404),l=n(5893),c=function(e){var t=e.alertClass,n=e.errorMsg;return(0,l.jsx)(o.Z,{alertClass:(0,r.Z)(t),alertType:i.vB.DANGER,children:n})};c.propTypes={alertClass:a().string,errorMsg:a().string.isRequired},t.Z=c},7951:function(e,t,n){"use strict";var r=n(5697),s=n.n(r),a=n(8404),o=n(5893),i=function(e){var t=e.alertClass,n=void 0===t?"":t,r=e.alertType,s=void 0===r?a.vB.INFO:r,i=e.children,l=void 0===i?null:i,c=e.containerClass,u=void 0===c?"":c;return(0,o.jsx)("div",{className:"app-form-group form-group ".concat(u),children:(0,o.jsx)("div",{className:"alert alert-".concat(s," text-center ").concat(n),role:"alert",children:l})})};i.propTypes={alertClass:s().string,alertType:s().string,children:s().oneOfType([s().element,s().string]),containerClass:s().string},t.Z=i},1302:function(e,t,n){"use strict";var r=n(5893);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"app-form-control-error"},e))}},9792:function(e,t,n){"use strict";var r=n(5697),s=n.n(r),a=n(4649),o=n(1302),i=n(5893),l=function(e){var t=e.autoComplete,n=void 0===t?"":t,r=e.children,s=void 0===r?null:r,l=e.component,c=void 0===l?"":l,u=e.containerClass,d=void 0===u?"":u,m=e.fieldClass,p=void 0===m?"":m,f=e.fieldId,h=e.fieldName,g=e.fieldType,v=e.labelTitle,y=e.onFocus,b=void 0===y?function(){return!1}:y,j=e.placeholder,x=void 0===j?"":j;return(0,i.jsxs)("div",{className:"app-form-group form-group ".concat(d),children:[(0,i.jsx)("label",{className:"visually-hidden",htmlFor:h,children:v}),(0,i.jsx)(a.gN,{className:"app-form-control form-control ".concat(p),autoComplete:n,component:c,id:f,name:h,placeholder:x,type:g,onFocus:b,children:s}),(0,i.jsx)(a.Bc,{name:h,component:o.Z})]})};l.propTypes={autoComplete:s().string,children:s().element,component:s().oneOfType([s().elementType,s().string]),containerClass:s().string,fieldClass:s().string,fieldId:s().string.isRequired,fieldName:s().string.isRequired,fieldType:s().string.isRequired,labelTitle:s().string.isRequired,onFocus:s().func,placeholder:s().string},t.Z=l},2637:function(e,t,n){"use strict";var r=n(5697),s=n.n(r),a=n(9792),o=n(8404),i=n(5893),l=function(e){var t=e.onFocus,n=void 0===t?function(){return!1}:t;return(0,i.jsx)(a.Z,{autoComplete:"email",fieldId:"email",fieldName:"email",fieldType:"email",onFocus:n,labelTitle:o.ge.EMAIL,placeholder:o.nK.EMAIL})};l.propTypes={onFocus:s().func},t.Z=l},1153:function(e,t,n){"use strict";var r=n(5697),s=n.n(r),a=n(9792),o=n(8404),i=n(5893),l=function(e){var t=e.onFocus,n=void 0===t?function(){return!1}:t;return(0,i.jsx)(a.Z,{autoComplete:"current-password",fieldId:"password",fieldName:"password",fieldType:"password",onFocus:n,labelTitle:o.ge.PASSWORD,placeholder:o.nK.PASSWORD})};l.propTypes={onFocus:s().func},t.Z=l},5072:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r=n(8446),s=n.n(r),a=n(5697),o=n.n(a),i=n(7294),l=n(3942),c=n(4649),u=n(5004),d=n(9139),m=n(2637),p=n(9792),f=n(8404),h=n(5893),g=function(e){var t=e.onFocus,n=void 0===t?function(){return!1}:t;return(0,h.jsx)(p.Z,{autoComplete:"username",fieldId:"name",fieldName:"name",fieldType:"name",onFocus:n,labelTitle:f.ge.NAME,placeholder:f.nK.NAME})};g.propTypes={onFocus:o().func};var v=g,y=n(1153),b=function(e){var t=e.onFocus,n=void 0===t?function(){return!1}:t;return(0,h.jsx)(p.Z,{autoComplete:"new-password",fieldId:"passwordConfirm",fieldName:"passwordConfirm",fieldType:"password",onFocus:n,labelTitle:f.ge.PASSWORD_CONFIRM,placeholder:f.nK.PASSWORD_CONFIRM})};b.propTypes={onFocus:o().func};var j=b,x=n(9711),S=n(4384),w=n(7951),C=function(e){var t=e.isModal;return(0,h.jsx)(w.Z,{alertType:f.vB.SUCCESS,children:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:f.h7.SIGNUP_SUCCESS}),(0,h.jsx)("div",{children:t?(0,h.jsx)(S.Z,{linkClass:"alert-link",propsConst:"LOGIN"}):(0,h.jsx)(x.rU,{className:"alert-link",to:f.$w.LOGIN,children:(0,h.jsx)("span",{children:f.yP.LOGIN})})})]})})};C.propTypes={isModal:o().bool.isRequired};var O=C,N=n(7561),T=n(9620),M=n(6948);T(N);var F=N.object().shape({name:M.aV,email:M.wM,password:M.aV.password(f.m$.PASSWORD_INVALID).min(6).minNumbers(1).minSymbols(0).minUppercase(0),passwordConfirm:M.aV.oneOf([N.ref("password")],f.m$.PASSWORDS_DO_NOT_MATCH).required(f.m$.PASSWORD_CONFIRM_REQUIRED)}),R=n(5506);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){i=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw s}}return a}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(8195);var P=function(e){var t=e.isModal,n=(0,l.I0)(),r=(0,l.v9)(R.Rf,s()),a=A((0,i.useState)(f.dc),2),o=a[0],p=a[1],g=A((0,i.useState)(f._Y),2),b=g[0],x=g[1],S=(0,i.useCallback)((function(){p(f.dc)}),[]);return b?(0,h.jsx)(O,{isModal:t}):(0,h.jsx)(c.J9,{initialValues:{name:"",email:"",password:"",passwordConfirm:""},validationSchema:F,onSubmit:function(e,t){var s=t.resetForm,a=t.setSubmitting;p(f.dc);var o,i=r.filter((function(t){return t.name===e.name||t.email===e.email}));if(i.length||"admin@admin.com"===e.email)p("Such user already exists");else{var l=[].concat(function(e){if(Array.isArray(e))return Z(e)}(o=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||I(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{id:Date.now(),avatar:"img/icon-avatar.svg",name:e.name,email:e.email,password:e.password,token:"fake-jwt-token"}]);n((0,R.HM)(l)),x(!0),s()}a(!1)},children:function(e){var t=e.isSubmitting;return(0,h.jsxs)(c.l0,{children:[(0,h.jsx)(v,{onFocus:S}),(0,h.jsx)(m.Z,{onFocus:S}),(0,h.jsx)(y.Z,{onFocus:S}),(0,h.jsx)(j,{onFocus:S}),(0,h.jsx)("div",{className:"app-form-group form-group",children:(0,h.jsx)(u.Z,{additionalClass:"app-form-submit",isLoading:t,title:f.yP.SIGNUP})}),o&&(0,h.jsx)(d.Z,{errorMsg:o})]})}})};P.propTypes={isModal:o().bool};var $=P},8446:function(e,t,n){var r=n(939);e.exports=function(e,t){return r(e,t)}},9620:function(e){"use strict";const t=function(e,t){return 1===t?e:`${e}s`},n=function(e){return null==e};function r(e=1,r){const s=r||"${path} must contain at least ${length} lowercase "+t("letter",e);return this.test({name:"minLowercase",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||(t.match(/[a-z]/g)||[]).length>=e})}function s(e=1,r){const s=r||"${path} must contain at least ${length} uppercase "+t("letter",e);return this.test({name:"minUppercase",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||(t.match(/[A-Z]/g)||[]).length>=e})}function a(e=1,r){const s=r||"${path} must contain at least ${length} "+t("number",e);return this.test({name:"minNumber",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||(t.match(/[0-9]/g)||[]).length>=e})}function o(e=1,r){const s=r||"${path} must contain at least ${length} "+t("symbol",e);return this.test({name:"minSymbol",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||(t.match(/[^a-zA-Z0-9\s]/g)||[]).length>=e})}function i(e=2,r){const s=r||"${path} must not contain sequences of more than ${length} repeated "+t("character",e);return this.test({name:"minRepeating",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||!new RegExp(`(.)\\1{${e},}`).test(t)})}function l(e=2,r){const s=r||"${path} must contain at least ${length} "+t("word",e),a=new RegExp("[a-zA-Z0-9]");return this.test({name:"minWords",exclusive:!0,message:s,params:{length:e},test:t=>n(t)||t.split(" ").filter((e=>!!e&&a.test(e))).length>=e})}function c(){return this.min(8).max(250).minLowercase(1).minUppercase(1).minNumbers(1).minSymbols(1)}e.exports=function(e){e.addMethod(e.string,"minLowercase",r),e.addMethod(e.string,"minUppercase",s),e.addMethod(e.string,"minNumber",a),e.addMethod(e.string,"minNumbers",a),e.addMethod(e.string,"minSymbol",o),e.addMethod(e.string,"minSymbols",o),e.addMethod(e.string,"minRepeating",i),e.addMethod(e.string,"minWords",l),e.addMethod(e.string,"password",c)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSy9CLFFBQU9nQyxLQUFRQSxHQUFLRixFQUFHUCxLQUFLUyxLQUFJOUIsUUFBVUEsR0FHMUcsQ0FFQSxTQUFTakMsSUFDTCxPQUFPcUQsS0FDRm5ELElBQUksR0FDSjhELElBQUksS0FDSmQsYUFBYSxHQUNiN0MsYUFBYSxHQUNiRixXQUFXLEdBQ1hDLFdBQVcsRUFDcEIsQ0FjQXNDLEVBQU9DLFFBWlAsU0FBZWpELEdBQ1hBLEVBQUl1RSxVQUFVdkUsRUFBSXdFLE9BQVEsZUFBZ0JoQixHQUMxQ3hELEVBQUl1RSxVQUFVdkUsRUFBSXdFLE9BQVEsZUFBZ0I3RCxHQUMxQ1gsRUFBSXVFLFVBQVV2RSxFQUFJd0UsT0FBUSxZQUFhL0QsR0FDdkNULEVBQUl1RSxVQUFVdkUsRUFBSXdFLE9BQVEsYUFBYy9ELEdBQ3hDVCxFQUFJdUUsVUFBVXZFLEVBQUl3RSxPQUFRLFlBQWE5RCxHQUN2Q1YsRUFBSXVFLFVBQVV2RSxFQUFJd0UsT0FBUSxhQUFjOUQsR0FDeENWLEVBQUl1RSxVQUFVdkUsRUFBSXdFLE9BQVEsZUFBZ0JSLEdBQzFDaEUsRUFBSXVFLFVBQVV2RSxFQUFJd0UsT0FBUSxXQUFZTixHQUN0Q2xFLEVBQUl1RSxVQUFVdkUsRUFBSXdFLE9BQVEsV0FBWWxFLEVBQzFDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcHAtcmVhY3QvLi9zcmMvY29tcG9uZW50cy9mb3Jtcy9idXR0b25zL3N1Ym1pdC9zdWJtaXQuanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL3NyYy9jb21wb25lbnRzL2Zvcm1zL2NvbW1vbi9lcnJvci1hbGVydC9lcnJvci1hbGVydC5qc3giLCJ3ZWJwYWNrOi8vYXBwLXJlYWN0Ly4vc3JjL2NvbXBvbmVudHMvZm9ybXMvY3VzdG9tLWVsZW1lbnRzL2FsZXJ0L2FsZXJ0LmpzeCIsIndlYnBhY2s6Ly9hcHAtcmVhY3QvLi9zcmMvY29tcG9uZW50cy9mb3Jtcy9jdXN0b20tZWxlbWVudHMvZXJyb3IvZXJyb3IuanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL3NyYy9jb21wb25lbnRzL2Zvcm1zL2N1c3RvbS1lbGVtZW50cy9maWVsZC9maWVsZC5qc3giLCJ3ZWJwYWNrOi8vYXBwLXJlYWN0Ly4vc3JjL2NvbXBvbmVudHMvZm9ybXMvZmllbGRzL2VtYWlsL2VtYWlsLmpzeCIsIndlYnBhY2s6Ly9hcHAtcmVhY3QvLi9zcmMvY29tcG9uZW50cy9mb3Jtcy9maWVsZHMvcGFzc3dvcmQvcGFzc3dvcmQuanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL3NyYy9jb21wb25lbnRzL2Zvcm1zL2ZpZWxkcy9uYW1lL25hbWUuanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL3NyYy9jb21wb25lbnRzL2Zvcm1zL2ZpZWxkcy9wYXNzd29yZC1jb25maXJtL3Bhc3N3b3JkLWNvbmZpcm0uanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL3NyYy9jb21wb25lbnRzL2Zvcm1zL3NpZ24tdXAvc3VjY2Vzcy9zdWNjZXNzLmpzeCIsIndlYnBhY2s6Ly9hcHAtcmVhY3QvLi9zcmMvY29tcG9uZW50cy9mb3Jtcy9zaWduLXVwL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vYXBwLXJlYWN0Ly4vc3JjL2NvbXBvbmVudHMvZm9ybXMvc2lnbi11cC93cmFwcGVyL3dyYXBwZXIuanN4Iiwid2VicGFjazovL2FwcC1yZWFjdC8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNFcXVhbC5qcyIsIndlYnBhY2s6Ly9hcHAtcmVhY3QvLi9ub2RlX21vZHVsZXMveXVwLXBhc3N3b3JkL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBTcGlubmVyIGZyb20gJ3JlYWN0LWJvb3RzdHJhcC9TcGlubmVyJztcblxuY29uc3QgRm9ybUJ1dHRvblN1Ym1pdCA9ICh7XG4gIGFkZGl0aW9uYWxDbGFzcyxcbiAgaXNMb2FkaW5nLFxuICB0aXRsZSxcbn0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8YnV0dG9uXG4gICAgICBjbGFzc05hbWU9e1xuICAgICAgICBjbHN4KCdidG4gYnRuLXByaW1hcnknLCBhZGRpdGlvbmFsQ2xhc3MpXG4gICAgICB9XG4gICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgdHlwZT1cInN1Ym1pdFwiXG4gICAgPlxuICAgICAge2lzTG9hZGluZyAmJiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPFNwaW5uZXJcbiAgICAgICAgICAgIGFzPVwic3BhblwiXG4gICAgICAgICAgICBhbmltYXRpb249XCJib3JkZXJcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIHJvbGU9XCJzdGF0dXNcIlxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgICZuYnNwO1xuICAgICAgICA8Lz5cbiAgICAgICl9XG4gICAgICB7dGl0bGV9XG4gICAgPC9idXR0b24+XG4gICk7XG59O1xuXG5Gb3JtQnV0dG9uU3VibWl0LnByb3BUeXBlcyA9IHtcbiAgYWRkaXRpb25hbENsYXNzOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGlzTG9hZGluZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgdGl0bGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1CdXR0b25TdWJtaXQ7XG4iLCJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQ3VzdG9tQWxlcnQgZnJvbSAnLi4vLi4vY3VzdG9tLWVsZW1lbnRzL2FsZXJ0L2FsZXJ0JztcbmltcG9ydCB7IEJzU3R5bGVUeXBlcyB9IGZyb20gJ34vY29uc3RhbnRzJztcblxuY29uc3QgRXJyb3JBbGVydCA9ICh7IGFsZXJ0Q2xhc3MsIGVycm9yTXNnIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Q3VzdG9tQWxlcnRcbiAgICAgIGFsZXJ0Q2xhc3M9e2Nsc3goYWxlcnRDbGFzcyl9XG4gICAgICBhbGVydFR5cGU9e0JzU3R5bGVUeXBlcy5EQU5HRVJ9XG4gICAgPlxuICAgICAge2Vycm9yTXNnfVxuICAgIDwvQ3VzdG9tQWxlcnQ+XG4gICk7XG59O1xuXG5FcnJvckFsZXJ0LnByb3BUeXBlcyA9IHtcbiAgYWxlcnRDbGFzczogUHJvcFR5cGVzLnN0cmluZyxcbiAgZXJyb3JNc2c6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEVycm9yQWxlcnQ7XG5cbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBCc1N0eWxlVHlwZXMgfSBmcm9tICd+L2NvbnN0YW50cyc7XG5cbmNvbnN0IEN1c3RvbUFsZXJ0ID0gKHtcbiAgYWxlcnRDbGFzcyA9ICcnLFxuICBhbGVydFR5cGUgPSBCc1N0eWxlVHlwZXMuSU5GTyxcbiAgY2hpbGRyZW4gPSBudWxsLFxuICBjb250YWluZXJDbGFzcyA9ICcnLFxufSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT17YGFwcC1mb3JtLWdyb3VwIGZvcm0tZ3JvdXAgJHtjb250YWluZXJDbGFzc31gfT5cbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9e2BhbGVydCBhbGVydC0ke2FsZXJ0VHlwZX0gdGV4dC1jZW50ZXIgJHthbGVydENsYXNzfWB9XG4gICAgICByb2xlPVwiYWxlcnRcIlxuICAgID5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4pO1xuXG5DdXN0b21BbGVydC5wcm9wVHlwZXMgPSB7XG4gIGFsZXJ0Q2xhc3M6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGFsZXJ0VHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgIFByb3BUeXBlcy5lbGVtZW50LFxuICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gIF0pLFxuICBjb250YWluZXJDbGFzczogUHJvcFR5cGVzLnN0cmluZyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUFsZXJ0O1xuIiwiY29uc3QgQ3VzdG9tRXJyb3IgPSAocHJvcHMpID0+IChcbiAgPGRpdiBjbGFzc05hbWU9XCJhcHAtZm9ybS1jb250cm9sLWVycm9yXCIgey4uLnByb3BzfT48L2Rpdj5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IEN1c3RvbUVycm9yO1xuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEVycm9yTWVzc2FnZSwgRmllbGQgfSBmcm9tICdmb3JtaWsnO1xuaW1wb3J0IEN1c3RvbUVycm9yIGZyb20gJy4uL2Vycm9yL2Vycm9yJztcblxuY29uc3QgQ3VzdG9tRmllbGQgPSAoe1xuICBhdXRvQ29tcGxldGUgPSAnJyxcbiAgY2hpbGRyZW4gPSBudWxsLFxuICBjb21wb25lbnQgPSAnJyxcbiAgY29udGFpbmVyQ2xhc3MgPSAnJyxcbiAgZmllbGRDbGFzcyA9ICcnLFxuICBmaWVsZElkLFxuICBmaWVsZE5hbWUsXG4gIGZpZWxkVHlwZSxcbiAgbGFiZWxUaXRsZSxcbiAgb25Gb2N1cyA9ICgpID0+IGZhbHNlLFxuICBwbGFjZWhvbGRlciA9ICcnLFxufSkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT17YGFwcC1mb3JtLWdyb3VwIGZvcm0tZ3JvdXAgJHtjb250YWluZXJDbGFzc31gfT5cbiAgICA8bGFiZWxcbiAgICAgIGNsYXNzTmFtZT1cInZpc3VhbGx5LWhpZGRlblwiXG4gICAgICBodG1sRm9yPXtmaWVsZE5hbWV9XG4gICAgPlxuICAgICAge2xhYmVsVGl0bGV9XG4gICAgPC9sYWJlbD5cbiAgICA8RmllbGRcbiAgICAgIGNsYXNzTmFtZT17YGFwcC1mb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sICR7ZmllbGRDbGFzc31gfVxuICAgICAgYXV0b0NvbXBsZXRlPXthdXRvQ29tcGxldGV9XG4gICAgICBjb21wb25lbnQ9e2NvbXBvbmVudH1cbiAgICAgIGlkPXtmaWVsZElkfVxuICAgICAgbmFtZT17ZmllbGROYW1lfVxuICAgICAgcGxhY2Vob2xkZXI9e3BsYWNlaG9sZGVyfVxuICAgICAgdHlwZT17ZmllbGRUeXBlfVxuICAgICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9GaWVsZD5cbiAgICA8RXJyb3JNZXNzYWdlXG4gICAgICBuYW1lPXtmaWVsZE5hbWV9XG4gICAgICBjb21wb25lbnQ9e0N1c3RvbUVycm9yfVxuICAgIC8+XG4gIDwvZGl2PlxuKTtcblxuQ3VzdG9tRmllbGQucHJvcFR5cGVzID0ge1xuICBhdXRvQ29tcGxldGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZWxlbWVudCxcbiAgY29tcG9uZW50OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICBQcm9wVHlwZXMuZWxlbWVudFR5cGUsXG4gICAgUHJvcFR5cGVzLnN0cmluZyxcbiAgXSksXG4gIGNvbnRhaW5lckNsYXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmaWVsZENsYXNzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBmaWVsZElkOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG4gIGZpZWxkTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBmaWVsZFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgbGFiZWxUaXRsZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgcGxhY2Vob2xkZXI6IFByb3BUeXBlcy5zdHJpbmcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDdXN0b21GaWVsZDtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQ3VzdG9tRmllbGQgZnJvbSAnfi9jb21wb25lbnRzL2Zvcm1zL2N1c3RvbS1lbGVtZW50cy9maWVsZC9maWVsZCc7XG5pbXBvcnQgeyBGb3JtSW5wdXRQbGFjZWhvbGRlcnMsIEZvcm1TUlRpdGxlcyB9IGZyb20gJ34vY29uc3RhbnRzJztcblxuY29uc3QgRmllbGRFbWFpbCA9ICh7XG4gIG9uRm9jdXMgPSAoKSA9PiBmYWxzZSxcbn0pID0+IChcbiAgPEN1c3RvbUZpZWxkXG4gICAgYXV0b0NvbXBsZXRlPVwiZW1haWxcIlxuICAgIGZpZWxkSWQ9XCJlbWFpbFwiXG4gICAgZmllbGROYW1lPVwiZW1haWxcIlxuICAgIGZpZWxkVHlwZT1cImVtYWlsXCJcbiAgICBvbkZvY3VzPXtvbkZvY3VzfVxuICAgIGxhYmVsVGl0bGU9e0Zvcm1TUlRpdGxlcy5FTUFJTH1cbiAgICBwbGFjZWhvbGRlcj17Rm9ybUlucHV0UGxhY2Vob2xkZXJzLkVNQUlMfVxuICAvPlxuKTtcblxuRmllbGRFbWFpbC5wcm9wVHlwZXMgPSB7XG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRmllbGRFbWFpbDtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQ3VzdG9tRmllbGQgZnJvbSAnfi9jb21wb25lbnRzL2Zvcm1zL2N1c3RvbS1lbGVtZW50cy9maWVsZC9maWVsZCc7XG5pbXBvcnQgeyBGb3JtSW5wdXRQbGFjZWhvbGRlcnMsIEZvcm1TUlRpdGxlcyB9IGZyb20gJ34vY29uc3RhbnRzJztcblxuY29uc3QgRmllbGRQYXNzd29yZCA9ICh7XG4gIG9uRm9jdXMgPSAoKSA9PiBmYWxzZSxcbn0pID0+IChcbiAgPEN1c3RvbUZpZWxkXG4gICAgYXV0b0NvbXBsZXRlPVwiY3VycmVudC1wYXNzd29yZFwiXG4gICAgZmllbGRJZD1cInBhc3N3b3JkXCJcbiAgICBmaWVsZE5hbWU9XCJwYXNzd29yZFwiXG4gICAgZmllbGRUeXBlPVwicGFzc3dvcmRcIlxuICAgIG9uRm9jdXM9e29uRm9jdXN9XG4gICAgbGFiZWxUaXRsZT17Rm9ybVNSVGl0bGVzLlBBU1NXT1JEfVxuICAgIHBsYWNlaG9sZGVyPXtGb3JtSW5wdXRQbGFjZWhvbGRlcnMuUEFTU1dPUkR9XG4gIC8+XG4pO1xuXG5GaWVsZFBhc3N3b3JkLnByb3BUeXBlcyA9IHtcbiAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBGaWVsZFBhc3N3b3JkO1xuIiwiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBDdXN0b21GaWVsZCBmcm9tICd+L2NvbXBvbmVudHMvZm9ybXMvY3VzdG9tLWVsZW1lbnRzL2ZpZWxkL2ZpZWxkJztcbmltcG9ydCB7IEZvcm1JbnB1dFBsYWNlaG9sZGVycywgRm9ybVNSVGl0bGVzIH0gZnJvbSAnfi9jb25zdGFudHMnO1xuXG5jb25zdCBGaWVsZE5hbWUgPSAoe1xuICBvbkZvY3VzID0gKCkgPT4gZmFsc2UsXG59KSA9PiAoXG4gIDxDdXN0b21GaWVsZFxuICAgIGF1dG9Db21wbGV0ZT1cInVzZXJuYW1lXCJcbiAgICBmaWVsZElkPVwibmFtZVwiXG4gICAgZmllbGROYW1lPVwibmFtZVwiXG4gICAgZmllbGRUeXBlPVwibmFtZVwiXG4gICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICBsYWJlbFRpdGxlPXtGb3JtU1JUaXRsZXMuTkFNRX1cbiAgICBwbGFjZWhvbGRlcj17Rm9ybUlucHV0UGxhY2Vob2xkZXJzLk5BTUV9XG4gIC8+XG4pO1xuXG5GaWVsZE5hbWUucHJvcFR5cGVzID0ge1xuICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZpZWxkTmFtZTtcbiIsImltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQ3VzdG9tRmllbGQgZnJvbSAnfi9jb21wb25lbnRzL2Zvcm1zL2N1c3RvbS1lbGVtZW50cy9maWVsZC9maWVsZCc7XG5pbXBvcnQgeyBGb3JtSW5wdXRQbGFjZWhvbGRlcnMsIEZvcm1TUlRpdGxlcyB9IGZyb20gJ34vY29uc3RhbnRzJztcblxuY29uc3QgRmllbGRQYXNzd29yZENvbmZpcm0gPSAoe1xuICBvbkZvY3VzID0gKCkgPT4gZmFsc2UsXG59KSA9PiAoXG4gIDxDdXN0b21GaWVsZFxuICAgIGF1dG9Db21wbGV0ZT1cIm5ldy1wYXNzd29yZFwiXG4gICAgZmllbGRJZD1cInBhc3N3b3JkQ29uZmlybVwiXG4gICAgZmllbGROYW1lPVwicGFzc3dvcmRDb25maXJtXCJcbiAgICBmaWVsZFR5cGU9XCJwYXNzd29yZFwiXG4gICAgb25Gb2N1cz17b25Gb2N1c31cbiAgICBsYWJlbFRpdGxlPXtGb3JtU1JUaXRsZXMuUEFTU1dPUkRfQ09ORklSTX1cbiAgICBwbGFjZWhvbGRlcj17Rm9ybUlucHV0UGxhY2Vob2xkZXJzLlBBU1NXT1JEX0NPTkZJUk19XG4gIC8+XG4pO1xuXG5GaWVsZFBhc3N3b3JkQ29uZmlybS5wcm9wVHlwZXMgPSB7XG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgRmllbGRQYXNzd29yZENvbmZpcm07XG4iLCJpbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgTGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IE1vZGFsc0xpbmsgZnJvbSAnfi9jb21wb25lbnRzL21vZGFscy9saW5rL2xpbmsnO1xuaW1wb3J0IEN1c3RvbUFsZXJ0IGZyb20gJy4uLy4uL2N1c3RvbS1lbGVtZW50cy9hbGVydC9hbGVydCc7XG5pbXBvcnQgeyBBcHBNZXNzYWdlcywgQXBwUm91dGVzLCBBcHBUaXRsZXMsIEJzU3R5bGVUeXBlcyB9IGZyb20gJ34vY29uc3RhbnRzJztcblxuY29uc3QgRm9ybVNpZ25VcFN1Y2Nlc3MgPSAoeyBpc01vZGFsIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Q3VzdG9tQWxlcnQgYWxlcnRUeXBlPXtCc1N0eWxlVHlwZXMuU1VDQ0VTU30+XG4gICAgICA8PlxuICAgICAgICA8ZGl2PntBcHBNZXNzYWdlcy5TSUdOVVBfU1VDQ0VTU308L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7aXNNb2RhbCA/IChcbiAgICAgICAgICAgIDxNb2RhbHNMaW5rXG4gICAgICAgICAgICAgIGxpbmtDbGFzcz17J2FsZXJ0LWxpbmsnfVxuICAgICAgICAgICAgICBwcm9wc0NvbnN0PXsnTE9HSU4nfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWxlcnQtbGlua1wiXG4gICAgICAgICAgICAgIHRvPXtBcHBSb3V0ZXMuTE9HSU59XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuPntBcHBUaXRsZXMuTE9HSU59PC9zcGFuPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC8+XG4gICAgPC9DdXN0b21BbGVydD5cbiAgKTtcbn07XG5cbkZvcm1TaWduVXBTdWNjZXNzLnByb3BUeXBlcyA9IHtcbiAgaXNNb2RhbDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1TaWduVXBTdWNjZXNzO1xuXG4iLCJpbXBvcnQgKiBhcyB5dXAgZnJvbSAneXVwJztcbmltcG9ydCAqIGFzIHl1cFBhc3N3b3JkIGZyb20gJ3l1cC1wYXNzd29yZCc7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdGlvbk1lc3NhZ2VzIH0gZnJvbSAnfi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tbW9uRW1haWxSdWxlLCBjb21tb25GaWVsZFJ1bGUgfSBmcm9tICd+L3V0aWxzJztcblxueXVwUGFzc3dvcmQoeXVwKTtcblxuZXhwb3J0IGNvbnN0IHNpZ25VcFNjaGVtYSA9IHl1cC5vYmplY3QoKS5zaGFwZSh7XG4gIG5hbWU6IGNvbW1vbkZpZWxkUnVsZSxcbiAgZW1haWw6IGNvbW1vbkVtYWlsUnVsZSxcbiAgcGFzc3dvcmQ6IGNvbW1vbkZpZWxkUnVsZVxuICAgIC5wYXNzd29yZChGb3JtVmFsaWRhdGlvbk1lc3NhZ2VzLlBBU1NXT1JEX0lOVkFMSUQpXG4gICAgLm1pbig2KS5taW5OdW1iZXJzKDEpLm1pblN5bWJvbHMoMCkubWluVXBwZXJjYXNlKDApLFxuICBwYXNzd29yZENvbmZpcm06IGNvbW1vbkZpZWxkUnVsZVxuICAgIC5vbmVPZihbeXVwLnJlZigncGFzc3dvcmQnKV0sIEZvcm1WYWxpZGF0aW9uTWVzc2FnZXMuUEFTU1dPUkRTX0RPX05PVF9NQVRDSClcbiAgICAucmVxdWlyZWQoRm9ybVZhbGlkYXRpb25NZXNzYWdlcy5QQVNTV09SRF9DT05GSVJNX1JFUVVJUkVEKSxcbn0pO1xuIiwiaW1wb3J0IGlzRXF1YWwgZnJvbSAnbG9kYXNoL2lzRXF1YWwnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURpc3BhdGNoLCB1c2VTZWxlY3RvciB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCB7IEZvcm1paywgRm9ybSB9IGZyb20gJ2Zvcm1payc7XG5pbXBvcnQgRm9ybUJ1dHRvblN1Ym1pdCBmcm9tICcuLi8uLi9idXR0b25zL3N1Ym1pdC9zdWJtaXQnO1xuaW1wb3J0IEVycm9yQWxlcnQgZnJvbSAnLi4vLi4vY29tbW9uL2Vycm9yLWFsZXJ0L2Vycm9yLWFsZXJ0JztcbmltcG9ydCBGaWVsZEVtYWlsIGZyb20gJy4uLy4uL2ZpZWxkcy9lbWFpbC9lbWFpbCc7XG5pbXBvcnQgRmllbGROYW1lIGZyb20gJy4uLy4uL2ZpZWxkcy9uYW1lL25hbWUnO1xuaW1wb3J0IEZpZWxkUGFzc3dvcmQgZnJvbSAnLi4vLi4vZmllbGRzL3Bhc3N3b3JkL3Bhc3N3b3JkJztcbmltcG9ydCBGaWVsZFBhc3N3b3JkQ29uZmlybSBmcm9tICcuLi8uLi9maWVsZHMvcGFzc3dvcmQtY29uZmlybS9wYXNzd29yZC1jb25maXJtJztcbmltcG9ydCBGb3JtU2lnblVwU3VjY2VzcyBmcm9tICcuLi9zdWNjZXNzL3N1Y2Nlc3MnO1xuaW1wb3J0IHsgc2lnblVwU2NoZW1hIH0gZnJvbSAnLi4vdmFsaWRhdGlvbic7XG5pbXBvcnQgeyBnZXRVc2Vycywgc2V0VXNlcnMgfSBmcm9tICd+L21vZHVsZXMvdXNlcic7XG5pbXBvcnQgeyBzZW5kRm9ybVJlcXVlc3QgfSBmcm9tICd+L3NlcnZpY2VzJztcbmltcG9ydCB7XG4gIEFQSVJvdXRlcyxcbiAgQXBwVGl0bGVzLFxuICBSZXNwb25zZVN0YXR1c1RleHRzLFxuICBGT1JNX0lOSVRJQUxfRVJST1IsXG4gIEZPUk1fSU5JVElBTF9TVUNDRVNTLFxufSBmcm9tICd+L2NvbnN0YW50cyc7XG5cbmNvbnN0IEZvcm1TaWduVXBXcmFwcGVyID0gKHsgaXNNb2RhbCB9KSA9PiB7XG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgY29uc3QgdXNlcnMgPSB1c2VTZWxlY3RvcihnZXRVc2VycywgaXNFcXVhbCk7XG4gIGNvbnN0IFtzaWduVXBFcnJvciwgc2V0U2lnblVwRXJyb3JdID0gdXNlU3RhdGUoRk9STV9JTklUSUFMX0VSUk9SKTtcbiAgY29uc3QgW3NpZ25VcFN1Y2Nlc3MsIHNldFNpZ25VcFN1Y2Nlc3NdID0gdXNlU3RhdGUoRk9STV9JTklUSUFMX1NVQ0NFU1MpO1xuXG4gIGNvbnN0IGluaXRpYWxWYWx1ZXMgPSB7XG4gICAgbmFtZTogJycsXG4gICAgZW1haWw6ICcnLFxuICAgIHBhc3N3b3JkOiAnJyxcbiAgICBwYXNzd29yZENvbmZpcm06ICcnLFxuICB9O1xuXG4gIGNvbnN0IG9uSW5wdXRGb2N1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaWduVXBFcnJvcihGT1JNX0lOSVRJQUxfRVJST1IpO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgb25TdWJtaXQgPSAodmFsdWVzLCB7IHJlc2V0Rm9ybSwgc2V0U3VibWl0dGluZyB9KSA9PiB7XG4gICAgLy8gKioqIGZvciBkZW1vIG9ubHlcbiAgICBzZXRTaWduVXBFcnJvcihGT1JNX0lOSVRJQUxfRVJST1IpO1xuXG4gICAgY29uc3QgZmlsdGVyZWRVc2VycyA9IHVzZXJzLmZpbHRlcigodXNlcikgPT4ge1xuICAgICAgcmV0dXJuIHVzZXIubmFtZSA9PT0gdmFsdWVzLm5hbWUgfHwgdXNlci5lbWFpbCA9PT0gdmFsdWVzLmVtYWlsO1xuICAgIH0pO1xuXG4gICAgaWYgKCFmaWx0ZXJlZFVzZXJzLmxlbmd0aCAmJiB2YWx1ZXMuZW1haWwgIT09ICdhZG1pbkBhZG1pbi5jb20nKSB7XG4gICAgICBjb25zdCBuZXdVc2VycyA9IFtcbiAgICAgICAgLi4udXNlcnMsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBhdmF0YXI6ICdpbWcvaWNvbi1hdmF0YXIuc3ZnJyxcbiAgICAgICAgICBuYW1lOiB2YWx1ZXMubmFtZSxcbiAgICAgICAgICBlbWFpbDogdmFsdWVzLmVtYWlsLFxuICAgICAgICAgIHBhc3N3b3JkOiB2YWx1ZXMucGFzc3dvcmQsXG4gICAgICAgICAgdG9rZW46ICdmYWtlLWp3dC10b2tlbicsXG4gICAgICAgIH1cbiAgICAgIF07XG5cbiAgICAgIGRpc3BhdGNoKHNldFVzZXJzKG5ld1VzZXJzKSk7XG4gICAgICBzZXRTaWduVXBTdWNjZXNzKHRydWUpO1xuICAgICAgcmVzZXRGb3JtKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNpZ25VcEVycm9yKCdTdWNoIHVzZXIgYWxyZWFkeSBleGlzdHMnKTtcbiAgICB9XG5cbiAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAvLyAqKiogZm9yIGRlbW8gb25seVxuXG4gICAgLy8gc2VuZEZvcm1SZXF1ZXN0KHtcbiAgICAvLyAgIGRhdGE6IHZhbHVlcyxcbiAgICAvLyAgIHJlc2V0Rm9ybSxcbiAgICAvLyAgIHNldEVycm9yOiBzZXRTaWduVXBFcnJvcixcbiAgICAvLyAgIHNldFN1Ym1pdHRpbmcsXG4gICAgLy8gICBzZXRTdWNjZXNzOiBzZXRTaWduVXBTdWNjZXNzLFxuICAgIC8vICAgcmVzcG9uc2VTdGF0dXNUZXh0OiBSZXNwb25zZVN0YXR1c1RleHRzLkNSRUFURUQsXG4gICAgLy8gICB1cmw6IGAke0FQSVJvdXRlcy5CQVNFX1VSTH0ke0FQSVJvdXRlcy5TSUdOVVB9YCxcbiAgICAvLyB9KTtcbiAgfTtcblxuICBpZiAoc2lnblVwU3VjY2Vzcykge1xuICAgIHJldHVybiAoXG4gICAgICA8Rm9ybVNpZ25VcFN1Y2Nlc3MgaXNNb2RhbD17aXNNb2RhbH0gLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Rm9ybWlrXG4gICAgICBpbml0aWFsVmFsdWVzPXtpbml0aWFsVmFsdWVzfVxuICAgICAgdmFsaWRhdGlvblNjaGVtYT17c2lnblVwU2NoZW1hfVxuICAgICAgb25TdWJtaXQ9e29uU3VibWl0fVxuICAgID5cbiAgICAgIHsoeyBpc1N1Ym1pdHRpbmcgfSkgPT4gKFxuICAgICAgICA8Rm9ybT5cbiAgICAgICAgICA8RmllbGROYW1lIG9uRm9jdXM9e29uSW5wdXRGb2N1c30gLz5cbiAgICAgICAgICA8RmllbGRFbWFpbCBvbkZvY3VzPXtvbklucHV0Rm9jdXN9IC8+XG4gICAgICAgICAgPEZpZWxkUGFzc3dvcmQgb25Gb2N1cz17b25JbnB1dEZvY3VzfSAvPlxuICAgICAgICAgIDxGaWVsZFBhc3N3b3JkQ29uZmlybSBvbkZvY3VzPXtvbklucHV0Rm9jdXN9IC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcHAtZm9ybS1ncm91cCBmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8Rm9ybUJ1dHRvblN1Ym1pdFxuICAgICAgICAgICAgICBhZGRpdGlvbmFsQ2xhc3M9XCJhcHAtZm9ybS1zdWJtaXRcIlxuICAgICAgICAgICAgICBpc0xvYWRpbmc9e2lzU3VibWl0dGluZ31cbiAgICAgICAgICAgICAgdGl0bGU9e0FwcFRpdGxlcy5TSUdOVVB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtzaWduVXBFcnJvciAmJiAoXG4gICAgICAgICAgICA8RXJyb3JBbGVydCBlcnJvck1zZz17c2lnblVwRXJyb3J9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9Gb3JtPlxuICAgICAgKX1cbiAgICA8L0Zvcm1paz5cbiAgKTtcbn07XG5cbkZvcm1TaWduVXBXcmFwcGVyLnByb3BUeXBlcyA9IHtcbiAgaXNNb2RhbDogUHJvcFR5cGVzLmJvb2wsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtU2lnblVwV3JhcHBlcjtcbiIsInZhciBiYXNlSXNFcXVhbCA9IHJlcXVpcmUoJy4vX2Jhc2VJc0VxdWFsJyk7XG5cbi8qKlxuICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICogZXF1aXZhbGVudC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2Qgc3VwcG9ydHMgY29tcGFyaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsXG4gKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gKiBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWQgYXJyYXlzLiBgT2JqZWN0YCBvYmplY3RzIGFyZSBjb21wYXJlZFxuICogYnkgdGhlaXIgb3duLCBub3QgaW5oZXJpdGVkLCBlbnVtZXJhYmxlIHByb3BlcnRpZXMuIEZ1bmN0aW9ucyBhbmQgRE9NXG4gKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmlzRXF1YWwob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogb2JqZWN0ID09PSBvdGhlcjtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRXF1YWwodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzRXF1YWw7XG4iLCIndXNlIHN0cmljdCdcblxuLy8gcGx1cmFsaXplXG5jb25zdCBwID0gZnVuY3Rpb24gKHdvcmQsIG51bSkge1xuICAgIHJldHVybiBudW0gPT09IDEgPyB3b3JkIDogYCR7d29yZH1zYFxufVxuXG5jb25zdCBpc051bGxPclVuZGVmaW5lZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG59XG5cbmZ1bmN0aW9uIG1pbkxvd2VyY2FzZShsZW5ndGggPSAxLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZSB8fCAnJHtwYXRofSBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgJHtsZW5ndGh9IGxvd2VyY2FzZSAnICsgcCgnbGV0dGVyJywgbGVuZ3RoKVxuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgICBuYW1lOiAnbWluTG93ZXJjYXNlJyxcbiAgICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgIHBhcmFtczogeyBsZW5ndGggfSxcbiAgICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCAodmFsdWUubWF0Y2goL1thLXpdL2cpIHx8IFtdKS5sZW5ndGggPj0gbGVuZ3RoXG4gICAgICAgIH1cbiAgICB9KVxufSAvLyBtaW5Mb3dlcmNhc2UoKVxuXG5mdW5jdGlvbiBtaW5VcHBlcmNhc2UobGVuZ3RoID0gMSwgbWVzc2FnZSkge1xuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2UgfHwgJyR7cGF0aH0gbXVzdCBjb250YWluIGF0IGxlYXN0ICR7bGVuZ3RofSB1cHBlcmNhc2UgJyArIHAoJ2xldHRlcicsIGxlbmd0aClcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgICAgbmFtZTogJ21pblVwcGVyY2FzZScsXG4gICAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICBwYXJhbXM6IHsgbGVuZ3RoIH0sXG4gICAgICAgIHRlc3QodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkgfHwgKHZhbHVlLm1hdGNoKC9bQS1aXS9nKSB8fCBbXSkubGVuZ3RoID49IGxlbmd0aFxuICAgICAgICB9XG4gICAgfSlcbn0gLy8gbWluVXBwZXJjYXNlKClcblxuZnVuY3Rpb24gbWluTnVtYmVycyhsZW5ndGggPSAxLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgbXNnID0gbWVzc2FnZSB8fCAnJHtwYXRofSBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgJHtsZW5ndGh9ICcgKyBwKCdudW1iZXInLCBsZW5ndGgpXG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICAgIG5hbWU6ICdtaW5OdW1iZXInLFxuICAgICAgICBleGNsdXNpdmU6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgcGFyYW1zOiB7IGxlbmd0aCB9LFxuICAgICAgICB0ZXN0KHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpIHx8ICh2YWx1ZS5tYXRjaCgvWzAtOV0vZykgfHwgW10pLmxlbmd0aCA+PSBsZW5ndGhcbiAgICAgICAgfVxuICAgIH0pXG59IC8vIG1pbk51bWJlcigpXG5cbmZ1bmN0aW9uIG1pblN5bWJvbHMobGVuZ3RoID0gMSwgbWVzc2FnZSkge1xuICAgIGNvbnN0IG1zZyA9IG1lc3NhZ2UgfHwgJyR7cGF0aH0gbXVzdCBjb250YWluIGF0IGxlYXN0ICR7bGVuZ3RofSAnICsgcCgnc3ltYm9sJywgbGVuZ3RoKVxuICAgIHJldHVybiB0aGlzLnRlc3Qoe1xuICAgICAgICBuYW1lOiAnbWluU3ltYm9sJyxcbiAgICAgICAgZXhjbHVzaXZlOiB0cnVlLFxuICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgIHBhcmFtczogeyBsZW5ndGggfSxcbiAgICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCAodmFsdWUubWF0Y2goL1teYS16QS1aMC05XFxzXS9nKSB8fCBbXSkubGVuZ3RoID49IGxlbmd0aFxuICAgICAgICB9XG4gICAgfSlcbn0gLy8gbWluU3ltYm9sKClcblxuZnVuY3Rpb24gbWluUmVwZWF0aW5nKGxlbmd0aCA9IDIsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlIHx8ICcke3BhdGh9IG11c3Qgbm90IGNvbnRhaW4gc2VxdWVuY2VzIG9mIG1vcmUgdGhhbiAke2xlbmd0aH0gcmVwZWF0ZWQgJyArIHAoJ2NoYXJhY3RlcicsIGxlbmd0aClcbiAgICByZXR1cm4gdGhpcy50ZXN0KHtcbiAgICAgICAgbmFtZTogJ21pblJlcGVhdGluZycsXG4gICAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICBwYXJhbXM6IHsgbGVuZ3RoOiBsZW5ndGggfSxcbiAgICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCAhIG5ldyBSZWdFeHAoYCguKVxcXFwxeyR7bGVuZ3RofSx9YCkudGVzdCh2YWx1ZSlcbiAgICAgICAgfVxuICAgIH0pXG59IC8vIG1pblJlcGVhdGluZygpXG5cbmZ1bmN0aW9uIG1pbldvcmRzKGxlbmd0aCA9IDIsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBtc2cgPSBtZXNzYWdlIHx8ICcke3BhdGh9IG11c3QgY29udGFpbiBhdCBsZWFzdCAke2xlbmd0aH0gJyArIHAoJ3dvcmQnLCBsZW5ndGgpXG4gICAgY29uc3QgcnggPSBuZXcgUmVnRXhwKCdbYS16QS1aMC05XScpXG4gICAgcmV0dXJuIHRoaXMudGVzdCh7XG4gICAgICAgIG5hbWU6ICdtaW5Xb3JkcycsXG4gICAgICAgIGV4Y2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZTogbXNnLFxuICAgICAgICBwYXJhbXM6IHsgbGVuZ3RoOiBsZW5ndGggfSxcbiAgICAgICAgdGVzdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZS5zcGxpdCgnICcpLmZpbHRlcih2ID0+ICEhIHYgJiYgcngudGVzdCh2KSkubGVuZ3RoID49IGxlbmd0aFxuICAgICAgICB9XG4gICAgfSlcbn0gLy8gbWluV29yZHMoKVxuXG5mdW5jdGlvbiBwYXNzd29yZCgpIHtcbiAgICByZXR1cm4gdGhpc1xuICAgICAgICAubWluKDgpXG4gICAgICAgIC5tYXgoMjUwKVxuICAgICAgICAubWluTG93ZXJjYXNlKDEpXG4gICAgICAgIC5taW5VcHBlcmNhc2UoMSlcbiAgICAgICAgLm1pbk51bWJlcnMoMSlcbiAgICAgICAgLm1pblN5bWJvbHMoMSlcbn0gLy8gcGFzc3dvcmQoKVxuXG5mdW5jdGlvbiBzZXR1cCh5dXApIHtcbiAgICB5dXAuYWRkTWV0aG9kKHl1cC5zdHJpbmcsICdtaW5Mb3dlcmNhc2UnLCBtaW5Mb3dlcmNhc2UpXG4gICAgeXVwLmFkZE1ldGhvZCh5dXAuc3RyaW5nLCAnbWluVXBwZXJjYXNlJywgbWluVXBwZXJjYXNlKVxuICAgIHl1cC5hZGRNZXRob2QoeXVwLnN0cmluZywgJ21pbk51bWJlcicsIG1pbk51bWJlcnMpXG4gICAgeXVwLmFkZE1ldGhvZCh5dXAuc3RyaW5nLCAnbWluTnVtYmVycycsIG1pbk51bWJlcnMpXG4gICAgeXVwLmFkZE1ldGhvZCh5dXAuc3RyaW5nLCAnbWluU3ltYm9sJywgbWluU3ltYm9scylcbiAgICB5dXAuYWRkTWV0aG9kKHl1cC5zdHJpbmcsICdtaW5TeW1ib2xzJywgbWluU3ltYm9scylcbiAgICB5dXAuYWRkTWV0aG9kKHl1cC5zdHJpbmcsICdtaW5SZXBlYXRpbmcnLCBtaW5SZXBlYXRpbmcpXG4gICAgeXVwLmFkZE1ldGhvZCh5dXAuc3RyaW5nLCAnbWluV29yZHMnLCBtaW5Xb3JkcylcbiAgICB5dXAuYWRkTWV0aG9kKHl1cC5zdHJpbmcsICdwYXNzd29yZCcsIHBhc3N3b3JkKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwXG4iXSwibmFtZXMiOlsiRm9ybUJ1dHRvblN1Ym1pdCIsImFkZGl0aW9uYWxDbGFzcyIsImlzTG9hZGluZyIsInRpdGxlIiwiY2xhc3NOYW1lIiwiY2xzeCIsImRpc2FibGVkIiwidHlwZSIsImFzIiwiYW5pbWF0aW9uIiwic2l6ZSIsInJvbGUiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJFcnJvckFsZXJ0IiwiYWxlcnRDbGFzcyIsImVycm9yTXNnIiwiYWxlcnRUeXBlIiwiQnNTdHlsZVR5cGVzIiwiQ3VzdG9tQWxlcnQiLCJjaGlsZHJlbiIsImNvbnRhaW5lckNsYXNzIiwicHJvcHMiLCJDdXN0b21GaWVsZCIsImF1dG9Db21wbGV0ZSIsImNvbXBvbmVudCIsImZpZWxkQ2xhc3MiLCJmaWVsZElkIiwiZmllbGROYW1lIiwiZmllbGRUeXBlIiwibGFiZWxUaXRsZSIsIm9uRm9jdXMiLCJwbGFjZWhvbGRlciIsImh0bWxGb3IiLCJpZCIsIm5hbWUiLCJDdXN0b21FcnJvciIsIkZpZWxkRW1haWwiLCJGb3JtU1JUaXRsZXMiLCJGb3JtSW5wdXRQbGFjZWhvbGRlcnMiLCJGaWVsZFBhc3N3b3JkIiwiRmllbGROYW1lIiwiRmllbGRQYXNzd29yZENvbmZpcm0iLCJGb3JtU2lnblVwU3VjY2VzcyIsImlzTW9kYWwiLCJBcHBNZXNzYWdlcyIsImxpbmtDbGFzcyIsInByb3BzQ29uc3QiLCJ0byIsIkFwcFJvdXRlcyIsIkFwcFRpdGxlcyIsInl1cFBhc3N3b3JkIiwieXVwIiwic2lnblVwU2NoZW1hIiwic2hhcGUiLCJjb21tb25GaWVsZFJ1bGUiLCJlbWFpbCIsImNvbW1vbkVtYWlsUnVsZSIsInBhc3N3b3JkIiwiRm9ybVZhbGlkYXRpb25NZXNzYWdlcyIsIm1pbiIsIm1pbk51bWJlcnMiLCJtaW5TeW1ib2xzIiwibWluVXBwZXJjYXNlIiwicGFzc3dvcmRDb25maXJtIiwicmVxdWlyZWQiLCJGb3JtU2lnblVwV3JhcHBlciIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJ1c2VycyIsInVzZVNlbGVjdG9yIiwiZ2V0VXNlcnMiLCJpc0VxdWFsIiwidXNlU3RhdGUiLCJGT1JNX0lOSVRJQUxfRVJST1IiLCJzaWduVXBFcnJvciIsInNldFNpZ25VcEVycm9yIiwiRk9STV9JTklUSUFMX1NVQ0NFU1MiLCJzaWduVXBTdWNjZXNzIiwic2V0U2lnblVwU3VjY2VzcyIsIm9uSW5wdXRGb2N1cyIsInVzZUNhbGxiYWNrIiwiaW5pdGlhbFZhbHVlcyIsInZhbGlkYXRpb25TY2hlbWEiLCJvblN1Ym1pdCIsInZhbHVlcyIsInJlc2V0Rm9ybSIsInNldFN1Ym1pdHRpbmciLCJmaWx0ZXJlZFVzZXJzIiwiZmlsdGVyIiwidXNlciIsImxlbmd0aCIsIm5ld1VzZXJzIiwiRGF0ZSIsIm5vdyIsImF2YXRhciIsInRva2VuIiwic2V0VXNlcnMiLCJpc1N1Ym1pdHRpbmciLCJiYXNlSXNFcXVhbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm90aGVyIiwicCIsIndvcmQiLCJudW0iLCJpc051bGxPclVuZGVmaW5lZCIsIm1pbkxvd2VyY2FzZSIsIm1lc3NhZ2UiLCJtc2ciLCJ0aGlzIiwidGVzdCIsImV4Y2x1c2l2ZSIsInBhcmFtcyIsIm1hdGNoIiwibWluUmVwZWF0aW5nIiwiUmVnRXhwIiwibWluV29yZHMiLCJyeCIsInNwbGl0IiwidiIsIm1heCIsImFkZE1ldGhvZCIsInN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=